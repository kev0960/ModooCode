(()=>{var e={778:()=>{window.onGoogleLogin=function(e){fetch("/auth/goog",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:e.credential})}).then((function(e){console.log(e),location.reload()}))}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(()=>{"use strict";var e=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((o=o.apply(e,t||[])).next())}))},t=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},o=function(){function n(){this.last_comment_index_=0,this.comments_=new Map,this.root_comments_=[],this.num_total_comments_=getNumTotalComments()}return n.prototype.LoadComments=function(){return e(this,void 0,void 0,(function(){var e,n,o,r,i,a,c;return t(this,(function(t){switch(t.label){case 0:return e=window.location.pathname,n=e.substr(e.lastIndexOf("/")+1),[4,fetch("/get-comment",{method:"POST",mode:"cors",cache:"no-cache",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({article_url:n,index_start:this.last_comment_index_})})];case 1:return[4,t.sent().json()];case 2:for(o=t.sent(),r=o.comments,i=0,a=r;i<a.length;i++)c=a[i],this.comments_.set(c.comment_id,c);return this.last_comment_index_+=50,[2]}}))}))},n.prototype.PostComment=function(n,o,r,i){return e(this,void 0,void 0,(function(){var e,a;return t(this,(function(t){return e=window.location.href,a=e.substr(e.lastIndexOf("/")+1),grecaptcha.ready((function(){grecaptcha.execute("6LeE_nYUAAAAAGm9qTa71IwvvayWV9Q7flqNkto2",{action:"Comment"}).then((function(e){fetch("/write-comment",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({parent_id:i,content:n,password:o||"",author_name:r,article_url:a,captcha_token:e})}).then((function(e){console.log(e),document.getElementById("adding-comment").hidden=!0,location.reload()}))}))})),[2]}))}))},n.prototype.ComputeRootComments=function(){var e=Array.from(this.comments_.keys()).sort((function(e,t){return e-t})),t=new Set;this.root_comments_=[];for(var n=0,o=e;n<o.length;n++){var r=o[n];t.has(r)||(this.root_comments_.push(this.comments_.get(r)),this.VisitAllChildComments(r,t))}this.root_comments_=this.root_comments_.reverse()},n.prototype.VisitAllChildComments=function(e,t){var n=this.comments_.get(e);if(n){t.add(e);for(var o=0,r=n.reply_ids||[];o<r.length;o++){var i=r[o];this.VisitAllChildComments(i,t)}}},n.prototype.CreateCommentList=function(){var e=document.createElement("ul");e.classList.add("comment-list"),e.id="root-comment-list";for(var t=0,n=this.root_comments_;t<n.length;t++)for(var o=n[t],r=0,i=this.CreateComment(o.comment_id);r<i.length;r++){var a=i[r];e.appendChild(a)}return e},n.prototype.CreateComment=function(e){var t,n=this,o=this.comments_.get(e);if(o){var r=document.createElement("li");r.classList.add("comment");var i=document.createElement("div");i.classList.add("comment-profile");var a=document.createElement("img");o.image_link?(a.src=o.image_link,a.alt="프로필 사진"):(a.src="./img/unknown_person.png",a.alt="프로필 사진 없음"),i.appendChild(a),r.appendChild(i);var c=document.createElement("div");c.classList.add("comment-info");var l=document.createElement("div");l.classList.add("comment-header");var s=function(e,t){var n=document.createElement("span");return n.classList.add(e),n.textContent=t,n};l.appendChild(s("comment-author",o.author_name||"")),l.appendChild(s("comment-date",o.comment_date||"")),c.appendChild(l);var m=document.createElement("div");m.classList.add("comment-content"),m.textContent=o.content,c.appendChild(m);var d=document.createElement("div");d.classList.add("comment-action"),d.id="comment-id-"+e;var u=s("comment-reply","답글 달기");u.onclick=function(){n.CreateCommentReply(e)},d.appendChild(u);var h=s("comment-delete","답글 삭제");if(d.appendChild(h),c.appendChild(d),r.appendChild(c),!(null===(t=o.reply_ids)||void 0===t?void 0:t.length))return[r];var p=document.createElement("ul");p.classList.add("comment-list");for(var _=0,f=o.reply_ids;_<f.length;_++)for(var v=f[_],g=0,y=this.CreateComment(v);g<y.length;g++){var C=y[g];p.append(C)}return[r,p]}},n.prototype.GetNumTotalComments=function(){return this.num_total_comments_},n.prototype.GetLastCommentIndex=function(){return this.last_comment_index_},n.prototype.CreateCommentReply=function(e){var t=this;this.current_reply_comment_box&&this.current_reply_comment_box.remove();var n=document.getElementById("comment-post-section").cloneNode(!0);n.id="reply-post-section",document.getElementById("comment-id-"+e).parentElement.parentElement.insertAdjacentElement("afterend",n),n.getElementsByClassName("comment-btn")[0].onclick=function(){console.log("clicked");var o=n.getElementsByClassName("comment-box-name")[0].value,r=n.getElementsByClassName("comment-box-name")[0].value,i=n.getElementsByClassName("comment-textarea")[0].value;t.PostComment(i,r,o,e).then((function(e){console.log(e)}))},this.current_reply_comment_box=n},n}(),r=function(){function e(){this.last_position=window.scrollY,this.time_to_update_toc=!0,this.scroll_down_event_handlers=[],this.scroll_up_event_handlers=[],this.InstallScrollEventHandler()}return e.prototype.InstallScrollEventHandler=function(){var e=this;window.addEventListener("scroll",(function(t){e.time_to_update_toc&&(window.requestAnimationFrame((function(){if(e.time_to_update_toc=!0,e.last_position>window.scrollY)for(var t=0,n=e.scroll_up_event_handlers;t<n.length;t++)(0,n[t])();else for(var o=0,r=e.scroll_down_event_handlers;o<r.length;o++)(0,r[o])();e.last_position=window.scrollY})),e.time_to_update_toc=!1)}))},e.prototype.RegisterScrollUpHandler=function(e){this.scroll_up_event_handlers.push(e)},e.prototype.RegisterScrollDownHandler=function(e){this.scroll_down_event_handlers.push(e)},e}();function i(e){for(var t=0;t<e.length&&" "==e[t];t++);return e.substring(t)}var a=function(){function e(){this.toc_headers_=[],this.time_to_update_toc=!0,this.prev_highlighted=0,this.FetchHeaders()}return e.prototype.FetchHeaders=function(){for(var e,t=0,n=document.querySelectorAll(".header-general");t<n.length;t++){var o=n[t],r=i(o.innerText),a="h"!=(e=o.tagName)[0]&&"H"!=e[0]?-1:parseInt(e.substring(1)),c=o.id,l=o.getBoundingClientRect().top+window.scrollY;this.toc_headers_.push({header_name:r,header_tag:a,header_id:c,header_pos:l,header_elem_link:null})}},e.prototype.RecursiveTOCCreator=function(e,t,n){for(var o=null,r=t;r<this.toc_headers_.length;r++){var i=this.toc_headers_[r];if(i.header_tag<n)return r;if(i.header_tag>n){var a=document.createElement("ol");a.className="toc-list",o.appendChild(a),r=this.RecursiveTOCCreator(a,r,i.header_tag),r--}else{var l=c(i);i.header_elem_link=l.firstChild,e.appendChild(l),o=l}}return r},e.prototype.CreateTOCList=function(){var e=document.querySelector(".toc-list");null!=e&&(this.RecursiveTOCCreator(e,0,this.toc_headers_[0].header_tag),this.InstallTOCEventHandlers())},e.prototype.InstallTOCEventHandlers=function(){var e=this;window.addEventListener("scroll",(function(){var t=window.scrollY;e.time_to_update_toc&&(window.requestAnimationFrame((function(){e.time_to_update_toc=!0;var n=e.GetCurrentActiveTOCItem(t);e.HighlightActiveItem(n)})),e.time_to_update_toc=!1)}))},e.prototype.HighlightActiveItem=function(e){this.toc_headers_[this.prev_highlighted].header_elem_link.className="toc-item-link",this.toc_headers_[e].header_elem_link.className="toc-item-link toc-active-item",this.prev_highlighted=e},e.prototype.InstallLinkClickHandler=function(){for(var e=function(e){e.header_elem_link.onclick=function(t){window.scrollTo(0,e.header_pos-150),console.log(e.header_pos-150)}},t=0,n=this.toc_headers_;t<n.length;t++)e(n[t])},e.prototype.GetCurrentActiveTOCItem=function(e){if(e<this.toc_headers_[0].header_pos)return 0;for(var t,n=0;n<this.toc_headers_.length&&n!=this.toc_headers_.length-1;n++)if(this.toc_headers_[n].header_pos<=e&&e<this.toc_headers_[n+1].header_pos)return e-this.toc_headers_[n].header_pos>this.toc_headers_[n+1].header_pos-e&&(void 0,(t=this.toc_headers_[n+1].header_elem_link.getBoundingClientRect()).top>=0&&t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight))?n+1:n;return n},e}();function c(e){var t=document.createElement("li");t.className="toc-list-item";var n=document.createElement("span");return n.className="toc-item-link",n.textContent=e.header_name,t.appendChild(n),t}n(778);function l(){return e=this,t=void 0,i=function(){var e;return function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(t){switch(t.label){case 0:return(n=new a).CreateTOCList(),n.InstallLinkClickHandler(),(new r).RegisterScrollUpHandler((function(){})),[4,(e=new o).LoadComments()];case 1:return t.sent(),e.ComputeRootComments(),console.log("html ",e.CreateCommentList()),document.getElementById("root-comment-list").replaceWith(e.CreateCommentList()),e.GetNumTotalComments()>=e.GetLastCommentIndex()&&(console.log("not hidden"),document.getElementById("button-box").hidden=!1),document.getElementById("post-comment").onclick=function(){var t=document.getElementById("posted-comment").value,n=document.getElementById("password").value,o=document.getElementById("name").value;e.PostComment(t,n,o).then((function(e){console.log(e)}))},[2]}var n}))},new((n=void 0)||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function c(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((i=i.apply(e,t||[])).next())}));var e,t,n,i}window.onload=function(){l()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YixPRG9JSUMsRUFBTSxJQUFJQyxHQUNWekIsZ0JBR0p3QixFQUFJZCwyQkY3R1MsSUFBSWdCLEdHeENWekQseUJBQXdCLFdBVS9CLElBR0EsSUFESTBELEVKOFFVLElBQUlDLEdJN1FJL0osZ0IsY0FBdEIsU0FFQThKLEVBQWdCL0gsc0JBQ2hCbEQsUUFBUUMsSUFBSSxRQUFTZ0wsRUFBZ0I3RyxxQkFDckNyQixTQUNHQyxlQUFlLHFCQUNmbUksWUFBWUYsRUFBZ0I3RyxxQkFHN0I2RyxFQUFnQi9FLHVCQUNoQitFLEVBQWdCOUUsd0JBRWhCbkcsUUFBUUMsSUFBSSxjQUNaOEMsU0FBU0MsZUFBZSxjQUFjQyxRQUFTLEdBR2pERixTQUFTQyxlQUFlLGdCQUFnQjJDLFFBQVUsV0FDaEQsSUFBSXhELEVBQ0ZZLFNBQVNDLGVBQWUsa0JBQ3hCMkQsTUFDRXZFLEVBQVlXLFNBQVNDLGVBQWUsWUFDckMyRCxNQUNDdEUsRUFBUVUsU0FBU0MsZUFBZSxRQUE2QjJELE1BRWpFc0UsRUFBZ0IvSSxZQUFZQyxFQUFTQyxFQUFVQyxHQUFNdkMsTUFBSyxTQUFDOEcsR0FDekQ1RyxRQUFRQyxJQUFJMkcsRUFDZCxHQUNGLEUsSUR3R0ssSUFDRGtFLEMsb1NDL0ZONUwsT0FBT2tNLE9BQVMsV0FDZFAsR0FDRixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTW9kb29Db2RlIEZyb250ZW50IEFwcC8uL3NyYy9sb2dpbi50cyIsIndlYnBhY2s6Ly9Nb2Rvb0NvZGUgRnJvbnRlbnQgQXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL01vZG9vQ29kZSBGcm9udGVudCBBcHAvLi9zcmMvY29tbWVudC50cyIsIndlYnBhY2s6Ly9Nb2Rvb0NvZGUgRnJvbnRlbnQgQXBwLy4vc3JjL3Njcm9sbC50cyIsIndlYnBhY2s6Ly9Nb2Rvb0NvZGUgRnJvbnRlbnQgQXBwLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vTW9kb29Db2RlIEZyb250ZW50IEFwcC8uL3NyYy90b2MudHMiLCJ3ZWJwYWNrOi8vTW9kb29Db2RlIEZyb250ZW50IEFwcC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgR29vZ2xlU2lnbkluUGFyYW1zIHtcbiAgY3JlZGVudGlhbDogc3RyaW5nO1xufVxuXG4od2luZG93IGFzIGFueSkub25Hb29nbGVMb2dpbiA9IChzaWduX2luOiBHb29nbGVTaWduSW5QYXJhbXMpID0+IHtcbiAgZmV0Y2goXCIvYXV0aC9nb29nXCIsIHtcbiAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRva2VuOiBzaWduX2luLmNyZWRlbnRpYWwsXG4gICAgfSksXG4gIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9KTtcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiZGVjbGFyZSBjb25zdCBncmVjYXB0Y2hhOiBhbnk7XG5cbmludGVyZmFjZSBDb21tZW50IHtcbiAgY29tbWVudF9pZDogbnVtYmVyO1xuICBhcnRpY2xlX3VybDogc3RyaW5nO1xuICByZXBseV9pZHM6IG51bWJlcltdO1xuICBjb21tZW50X2RhdGU6IHN0cmluZztcbiAgYXV0aG9yX25hbWU/OiBzdHJpbmc7XG4gIGltYWdlX2xpbms6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBpc19tZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEdldENvbW1lbnRSZXNwb25zZSB7XG4gIGNvbW1lbnRzOiBDb21tZW50W107XG59XG5cbmNsYXNzIENvbW1lbnRNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sYXN0X2NvbW1lbnRfaW5kZXhfID0gMDtcbiAgICB0aGlzLmNvbW1lbnRzXyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJvb3RfY29tbWVudHNfID0gW107XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5udW1fdG90YWxfY29tbWVudHNfID0gZ2V0TnVtVG90YWxDb21tZW50cygpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIExvYWRDb21tZW50cygpIHtcbiAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGxldCBhcnRpY2xlX3VybCA9IHVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvZ2V0LWNvbW1lbnRcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgICAgY2FjaGU6IFwibm8tY2FjaGVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhcnRpY2xlX3VybCxcbiAgICAgICAgaW5kZXhfc3RhcnQ6IHRoaXMubGFzdF9jb21tZW50X2luZGV4XyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgbGV0IGdldF9jb21tZW50X3Jlc3BvbnNlOiBHZXRDb21tZW50UmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgbGV0IGNvbW1lbnRzID0gZ2V0X2NvbW1lbnRfcmVzcG9uc2UuY29tbWVudHM7XG4gICAgZm9yIChsZXQgY29tbWVudCBvZiBjb21tZW50cykge1xuICAgICAgdGhpcy5jb21tZW50c18uc2V0KGNvbW1lbnQuY29tbWVudF9pZCwgY29tbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0X2NvbW1lbnRfaW5kZXhfICs9IDUwO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIFBvc3RDb21tZW50KFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBwYXJlbnRfaWQ/OiBudW1iZXJcbiAgKSB7XG4gICAgY29uc3QgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgbGV0IGFydGljbGVfdXJsID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG5cbiAgICBncmVjYXB0Y2hhLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIGdyZWNhcHRjaGFcbiAgICAgICAgLmV4ZWN1dGUoXCI2TGVFX25ZVUFBQUFBR205cVRhNzFJd3Z2YXlXVjlRN2ZscU5rdG8yXCIsIHtcbiAgICAgICAgICBhY3Rpb246IFwiQ29tbWVudFwiLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAodG9rZW46IHN0cmluZykge1xuICAgICAgICAgIGZldGNoKFwiL3dyaXRlLWNvbW1lbnRcIiwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIG1vZGU6IFwiY29yc1wiLFxuICAgICAgICAgICAgY2FjaGU6IFwibm8tY2FjaGVcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBwYXJlbnRfaWQ6IHBhcmVudF9pZCxcbiAgICAgICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkIHx8IFwiXCIsXG4gICAgICAgICAgICAgIGF1dGhvcl9uYW1lOiBuYW1lLFxuICAgICAgICAgICAgICBhcnRpY2xlX3VybDogYXJ0aWNsZV91cmwsXG4gICAgICAgICAgICAgIGNhcHRjaGFfdG9rZW46IHRva2VuLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZGluZy1jb21tZW50XCIpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBDb21wdXRlUm9vdENvbW1lbnRzKCkge1xuICAgIGxldCBjb21tZW50X2lkcyA9IEFycmF5LmZyb20odGhpcy5jb21tZW50c18ua2V5cygpKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgbGV0IHZpc2l0ZWRfY29tbWVudHMgPSBuZXcgU2V0PG51bWJlcj4oKTtcblxuICAgIHRoaXMucm9vdF9jb21tZW50c18gPSBbXTtcblxuICAgIC8vIEZpbmQgdGhlIHJvb3QgY29tbWVudHMuXG4gICAgZm9yIChsZXQgY29tbWVudF9pZCBvZiBjb21tZW50X2lkcykge1xuICAgICAgaWYgKHZpc2l0ZWRfY29tbWVudHMuaGFzKGNvbW1lbnRfaWQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJvb3RfY29tbWVudHNfLnB1c2godGhpcy5jb21tZW50c18uZ2V0KGNvbW1lbnRfaWQpISk7XG4gICAgICB0aGlzLlZpc2l0QWxsQ2hpbGRDb21tZW50cyhjb21tZW50X2lkLCB2aXNpdGVkX2NvbW1lbnRzKTtcbiAgICB9XG5cbiAgICB0aGlzLnJvb3RfY29tbWVudHNfID0gdGhpcy5yb290X2NvbW1lbnRzXy5yZXZlcnNlKCk7XG4gIH1cblxuICBWaXNpdEFsbENoaWxkQ29tbWVudHMoY29tbWVudF9pZDogbnVtYmVyLCB2aXNpdGVkX2NvbW1lbnRzOiBTZXQ8bnVtYmVyPikge1xuICAgIGxldCBjb21tZW50ID0gdGhpcy5jb21tZW50c18uZ2V0KGNvbW1lbnRfaWQpO1xuICAgIGlmICghY29tbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZpc2l0ZWRfY29tbWVudHMuYWRkKGNvbW1lbnRfaWQpO1xuICAgIGZvciAobGV0IGNoaWxkX2NvbW1lbnRfaWQgb2YgY29tbWVudC5yZXBseV9pZHMgfHwgW10pIHtcbiAgICAgIHRoaXMuVmlzaXRBbGxDaGlsZENvbW1lbnRzKGNoaWxkX2NvbW1lbnRfaWQsIHZpc2l0ZWRfY29tbWVudHMpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIENyZWF0ZUNvbW1lbnRMaXN0KCkge1xuICAgIGxldCByb290X2NvbW1lbnRfbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICByb290X2NvbW1lbnRfbGlzdC5jbGFzc0xpc3QuYWRkKFwiY29tbWVudC1saXN0XCIpO1xuICAgIHJvb3RfY29tbWVudF9saXN0LmlkID0gXCJyb290LWNvbW1lbnQtbGlzdFwiO1xuXG4gICAgZm9yIChjb25zdCBjb21tZW50IG9mIHRoaXMucm9vdF9jb21tZW50c18pIHtcbiAgICAgIGZvciAoY29uc3QgY29tbWVudF9lbGVtIG9mIHRoaXMuQ3JlYXRlQ29tbWVudChjb21tZW50LmNvbW1lbnRfaWQpKSB7XG4gICAgICAgIHJvb3RfY29tbWVudF9saXN0LmFwcGVuZENoaWxkKGNvbW1lbnRfZWxlbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvb3RfY29tbWVudF9saXN0O1xuICB9XG5cbiAgQ3JlYXRlQ29tbWVudChjb21tZW50X2lkOiBudW1iZXIpIHtcbiAgICBsZXQgY29tbWVudCA9IHRoaXMuY29tbWVudHNfLmdldChjb21tZW50X2lkKTtcbiAgICBpZiAoIWNvbW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgY29tbWVudF9lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGNvbW1lbnRfZWxlbS5jbGFzc0xpc3QuYWRkKFwiY29tbWVudFwiKTtcblxuICAgIGxldCBjb21tZW50X3Byb2ZpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbW1lbnRfcHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwiY29tbWVudC1wcm9maWxlXCIpO1xuXG4gICAgbGV0IGltYWdlX2xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGlmIChjb21tZW50LmltYWdlX2xpbmspIHtcbiAgICAgIGltYWdlX2xpbmsuc3JjID0gY29tbWVudC5pbWFnZV9saW5rO1xuICAgICAgaW1hZ2VfbGluay5hbHQgPSBcIu2UhOuhnO2VhCDsgqzsp4RcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaW1hZ2VfbGluay5zcmMgPSBcIi4vaW1nL3Vua25vd25fcGVyc29uLnBuZ1wiO1xuICAgICAgaW1hZ2VfbGluay5hbHQgPSBcIu2UhOuhnO2VhCDsgqzsp4Qg7JeG7J2MXCI7XG4gICAgfVxuXG4gICAgY29tbWVudF9wcm9maWxlLmFwcGVuZENoaWxkKGltYWdlX2xpbmspO1xuICAgIGNvbW1lbnRfZWxlbS5hcHBlbmRDaGlsZChjb21tZW50X3Byb2ZpbGUpO1xuXG4gICAgbGV0IGNvbW1lbnRfaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29tbWVudF9pbmZvLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50LWluZm9cIik7XG5cbiAgICAvLyBDb21tZW50IGhlYWRlci5cbiAgICBsZXQgY29tbWVudF9oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbW1lbnRfaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50LWhlYWRlclwiKTtcblxuICAgIGxldCBjcmVhdGVTaW1wbGVTcGFuID0gKGNsYXNzX25hbWU6IHN0cmluZywgdGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzX25hbWUpO1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9O1xuXG4gICAgY29tbWVudF9oZWFkZXIuYXBwZW5kQ2hpbGQoXG4gICAgICBjcmVhdGVTaW1wbGVTcGFuKFwiY29tbWVudC1hdXRob3JcIiwgY29tbWVudC5hdXRob3JfbmFtZSB8fCBcIlwiKVxuICAgICk7XG4gICAgY29tbWVudF9oZWFkZXIuYXBwZW5kQ2hpbGQoXG4gICAgICBjcmVhdGVTaW1wbGVTcGFuKFwiY29tbWVudC1kYXRlXCIsIGNvbW1lbnQuY29tbWVudF9kYXRlIHx8IFwiXCIpXG4gICAgKTtcblxuICAgIGNvbW1lbnRfaW5mby5hcHBlbmRDaGlsZChjb21tZW50X2hlYWRlcik7XG5cbiAgICAvLyBDb21tZW50IGNvbnRlbnQuXG4gICAgbGV0IGNvbW1lbnRfY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29tbWVudF9jb250ZW50LmNsYXNzTGlzdC5hZGQoXCJjb21tZW50LWNvbnRlbnRcIik7XG4gICAgY29tbWVudF9jb250ZW50LnRleHRDb250ZW50ID0gY29tbWVudC5jb250ZW50O1xuICAgIGNvbW1lbnRfaW5mby5hcHBlbmRDaGlsZChjb21tZW50X2NvbnRlbnQpO1xuXG4gICAgbGV0IGNvbW1lbnRfYWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb21tZW50X2FjdGlvbi5jbGFzc0xpc3QuYWRkKFwiY29tbWVudC1hY3Rpb25cIik7XG4gICAgY29tbWVudF9hY3Rpb24uaWQgPSBcImNvbW1lbnQtaWQtXCIgKyBjb21tZW50X2lkO1xuXG4gICAgY29uc3QgY29tbWVudFJlcGx5QWN0aW9uID0gY3JlYXRlU2ltcGxlU3BhbihcImNvbW1lbnQtcmVwbHlcIiwgXCLri7XquIAg64us6riwXCIpO1xuICAgIGNvbW1lbnRSZXBseUFjdGlvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5DcmVhdGVDb21tZW50UmVwbHkoY29tbWVudF9pZCk7XG4gICAgfTtcbiAgICBjb21tZW50X2FjdGlvbi5hcHBlbmRDaGlsZChjb21tZW50UmVwbHlBY3Rpb24pO1xuXG4gICAgY29uc3QgY29tbWVudERlbGV0ZUFjdGlvbiA9IGNyZWF0ZVNpbXBsZVNwYW4oXCJjb21tZW50LWRlbGV0ZVwiLCBcIuuLteq4gCDsgq3soJxcIik7XG4gICAgY29tbWVudF9hY3Rpb24uYXBwZW5kQ2hpbGQoY29tbWVudERlbGV0ZUFjdGlvbik7XG4gICAgY29tbWVudF9pbmZvLmFwcGVuZENoaWxkKGNvbW1lbnRfYWN0aW9uKTtcblxuICAgIGNvbW1lbnRfZWxlbS5hcHBlbmRDaGlsZChjb21tZW50X2luZm8pO1xuXG4gICAgaWYgKCFjb21tZW50LnJlcGx5X2lkcz8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW2NvbW1lbnRfZWxlbV07XG4gICAgfVxuXG4gICAgbGV0IGNoaWxkX2NvbW1lbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgIGNoaWxkX2NvbW1lbnRzLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50LWxpc3RcIik7XG5cbiAgICBmb3IgKGNvbnN0IHJlcGx5X2lkIG9mIGNvbW1lbnQucmVwbHlfaWRzKSB7XG4gICAgICBsZXQgZWxlbXMgPSB0aGlzLkNyZWF0ZUNvbW1lbnQocmVwbHlfaWQpO1xuICAgICAgZm9yIChjb25zdCBlbGVtIG9mIGVsZW1zKSB7XG4gICAgICAgIGNoaWxkX2NvbW1lbnRzLmFwcGVuZChlbGVtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW2NvbW1lbnRfZWxlbSwgY2hpbGRfY29tbWVudHNdO1xuICB9XG5cbiAgR2V0TnVtVG90YWxDb21tZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5udW1fdG90YWxfY29tbWVudHNfO1xuICB9XG5cbiAgR2V0TGFzdENvbW1lbnRJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0X2NvbW1lbnRfaW5kZXhfO1xuICB9XG5cbiAgQ3JlYXRlQ29tbWVudFJlcGx5KGNvbW1lbnRfaWQ6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmN1cnJlbnRfcmVwbHlfY29tbWVudF9ib3gpIHtcbiAgICAgIHRoaXMuY3VycmVudF9yZXBseV9jb21tZW50X2JveC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBjb21tZW50IGJveCBmb3IgdGhlIGNvbW1lbnQgcmVwbHkuXG4gICAgbGV0IHJlcGx5X2JveCA9IGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjb21tZW50LXBvc3Qtc2VjdGlvblwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcbiAgICByZXBseV9ib3guaWQgPSBcInJlcGx5LXBvc3Qtc2VjdGlvblwiO1xuXG4gICAgbGV0IGNvbW1lbnRfdG9fYWRkX3JlcGx5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcImNvbW1lbnQtaWQtXCIgKyBjb21tZW50X2lkXG4gICAgKS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgICBjb21tZW50X3RvX2FkZF9yZXBseS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCByZXBseV9ib3gpO1xuXG4gICAgKFxuICAgICAgcmVwbHlfYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb21tZW50LWJ0blwiKVswXSBhcyBIVE1MQnV0dG9uRWxlbWVudFxuICAgICkub25jbGljayA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tlZFwiKTtcbiAgICAgIGxldCBuYW1lID0gKFxuICAgICAgICByZXBseV9ib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgICBcImNvbW1lbnQtYm94LW5hbWVcIlxuICAgICAgICApWzBdIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICkudmFsdWU7XG5cbiAgICAgIGxldCBwYXNzd29yZCA9IChcbiAgICAgICAgcmVwbHlfYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgICAgXCJjb21tZW50LWJveC1uYW1lXCJcbiAgICAgICAgKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICApLnZhbHVlO1xuXG4gICAgICBsZXQgY29udGVudCA9IChcbiAgICAgICAgcmVwbHlfYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgICAgICAgXCJjb21tZW50LXRleHRhcmVhXCJcbiAgICAgICAgKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICApLnZhbHVlO1xuXG4gICAgICB0aGlzLlBvc3RDb21tZW50KGNvbnRlbnQsIHBhc3N3b3JkLCBuYW1lLCAvKnBhcmVudF9pZD0qLyBjb21tZW50X2lkKS50aGVuKFxuICAgICAgICAocmVzKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuICAgIHRoaXMuY3VycmVudF9yZXBseV9jb21tZW50X2JveCA9IHJlcGx5X2JveDtcbiAgfVxuXG4gIHByaXZhdGUgbGFzdF9jb21tZW50X2luZGV4XzogbnVtYmVyO1xuICBwcml2YXRlIGNvbW1lbnRzXzogTWFwPG51bWJlciwgQ29tbWVudD47XG4gIHByaXZhdGUgcm9vdF9jb21tZW50c186IENvbW1lbnRbXTtcbiAgcHJpdmF0ZSBudW1fdG90YWxfY29tbWVudHNfOiBudW1iZXI7XG5cbiAgLy8gUmVwbHkgY29tbWVudCBib3ggdGhhdCBleGlzdHMuXG4gIHByaXZhdGUgY3VycmVudF9yZXBseV9jb21tZW50X2JveD86IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQ29tbWVudE1hbmFnZXIoKTogQ29tbWVudE1hbmFnZXIge1xuICBsZXQgY29tbWVudCA9IG5ldyBDb21tZW50TWFuYWdlcigpO1xuICByZXR1cm4gY29tbWVudDtcbn1cbiIsImNsYXNzIFNjcm9sbCB7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxhc3RfcG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB0aGlzLnRpbWVfdG9fdXBkYXRlX3RvYyA9IHRydWU7XG5cbiAgICB0aGlzLnNjcm9sbF9kb3duX2V2ZW50X2hhbmRsZXJzID0gW107XG4gICAgdGhpcy5zY3JvbGxfdXBfZXZlbnRfaGFuZGxlcnMgPSBbXTtcblxuICAgIHRoaXMuSW5zdGFsbFNjcm9sbEV2ZW50SGFuZGxlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBJbnN0YWxsU2Nyb2xsRXZlbnRIYW5kbGVyKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoZSkgPT4ge1xuICAgICAgaWYgKHRoaXMudGltZV90b191cGRhdGVfdG9jKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMudGltZV90b191cGRhdGVfdG9jID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhpcy5sYXN0X3Bvc2l0aW9uID4gd2luZG93LnNjcm9sbFkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGZ1bmMgb2YgdGhpcy5zY3JvbGxfdXBfZXZlbnRfaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBmdW5jIG9mIHRoaXMuc2Nyb2xsX2Rvd25fZXZlbnRfaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgZnVuYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxhc3RfcG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGltZV90b191cGRhdGVfdG9jID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgUmVnaXN0ZXJTY3JvbGxVcEhhbmRsZXIoZnVuYzogKCk9PnZvaWQpIHtcbiAgICB0aGlzLnNjcm9sbF91cF9ldmVudF9oYW5kbGVycy5wdXNoKGZ1bmMpO1xuICB9XG5cbiAgcHVibGljIFJlZ2lzdGVyU2Nyb2xsRG93bkhhbmRsZXIoZnVuYzogKCk9PnZvaWQpIHtcbiAgICB0aGlzLnNjcm9sbF9kb3duX2V2ZW50X2hhbmRsZXJzLnB1c2goZnVuYyk7XG4gIH1cblxuICBwcml2YXRlIGxhc3RfcG9zaXRpb246IG51bWJlcjtcblxuICAvLyBNYWtlIHN1cmUgbm90IHRvIGhhbmRsZSBzY3JvbGwgZXZlbnQgdG9vIG9mdGVuLlxuICBwcml2YXRlIHRpbWVfdG9fdXBkYXRlX3RvYzogYm9vbGVhbjtcblxuICBwcml2YXRlIHNjcm9sbF9kb3duX2V2ZW50X2hhbmRsZXJzOiAoKCk9PiB2b2lkKVtdO1xuICBwcml2YXRlIHNjcm9sbF91cF9ldmVudF9oYW5kbGVyczogKCgpPT4gdm9pZClbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVNjcm9sbEhhbmRsZXIoKSA6IFNjcm9sbCB7XG4gIGxldCBzY3JvbGwgPSBuZXcgU2Nyb2xsKCk7XG4gIHJldHVybiBzY3JvbGw7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gU3RyaXBQcmVmaXhOYnNwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHJbaV0gPT0gJ8KgJykgeyAgLy8gVGhpcyBpcyBub3Qgc3BhY2UuIFRoaXMgaXMgdW5pY29kZSBOQlNQIChVKzAwQTApXG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHIuc3Vic3RyaW5nKGkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0SGVhZGVyTnVtKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgaWYgKCEoc3RyWzBdID09ICdoJyB8fCBzdHJbMF0gPT0gJ0gnKSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUludChzdHIuc3Vic3RyaW5nKDEpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzRWxlbWVudEluVmlld1BvcnQoZWw6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIGxldCBib3VuZGluZyA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4gYm91bmRpbmcudG9wID49IDAgJiYgYm91bmRpbmcubGVmdCA+PSAwICYmXG4gICAgICBib3VuZGluZy5yaWdodCA8PVxuICAgICAgKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgJiZcbiAgICAgIGJvdW5kaW5nLmJvdHRvbSA8PVxuICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcbn0iLCJpbXBvcnQgKiBhcyBVdGlsIGZyb20gJy4vdXRpbCc7XG5cbmludGVyZmFjZSBUT0NIZWFkZXIge1xuICBoZWFkZXJfbmFtZTogc3RyaW5nO1xuICBoZWFkZXJfdGFnOiBudW1iZXI7XG4gIGhlYWRlcl9pZDogc3RyaW5nO1xuICBoZWFkZXJfcG9zOiBudW1iZXI7XG4gIGhlYWRlcl9lbGVtX2xpbms6IEhUTUxBbmNob3JFbGVtZW50O1xufVxuXG5jbGFzcyBUT0Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRvY19oZWFkZXJzXyA9IFtdO1xuICAgIHRoaXMudGltZV90b191cGRhdGVfdG9jID0gdHJ1ZTtcbiAgICB0aGlzLnByZXZfaGlnaGxpZ2h0ZWQgPSAwO1xuXG4gICAgLy8gRmV0Y2ggVE9DIEhlYWRlcnMuXG4gICAgdGhpcy5GZXRjaEhlYWRlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgRmV0Y2hIZWFkZXJzKCkge1xuICAgIC8vIEZpcnN0IGlkZW50aWZ5IGFsbCB0aGUgaGVhZGVycy5cbiAgICBsZXQgaGVhZGVyczogTm9kZUxpc3RPZjxFbGVtZW50PiA9XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXItZ2VuZXJhbCcpO1xuXG4gICAgZm9yIChsZXQgaGVhZGVyIG9mIGhlYWRlcnMgYXMgYW55KSB7XG4gICAgICBsZXQgaGVhZGVyX25hbWU6IHN0cmluZyA9IFV0aWwuU3RyaXBQcmVmaXhOYnNwKGhlYWRlci5pbm5lclRleHQpO1xuICAgICAgbGV0IGhlYWRlcl90YWc6IG51bWJlciA9IFV0aWwuR2V0SGVhZGVyTnVtKGhlYWRlci50YWdOYW1lKTtcbiAgICAgIGxldCBoZWFkZXJfaWQ6IHN0cmluZyA9IGhlYWRlci5pZDtcbiAgICAgIGxldCBoZWFkZXJfcG9zOiBudW1iZXIgPVxuICAgICAgICAgIGhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIHRoaXMudG9jX2hlYWRlcnNfLnB1c2goe1xuICAgICAgICBoZWFkZXJfbmFtZSxcbiAgICAgICAgaGVhZGVyX3RhZyxcbiAgICAgICAgaGVhZGVyX2lkLFxuICAgICAgICBoZWFkZXJfcG9zLFxuICAgICAgICBoZWFkZXJfZWxlbV9saW5rOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIFJlY3Vyc2l2ZVRPQ0NyZWF0b3IoXG4gICAgICBwYXJlbnRfb2w6IEhUTUxPTGlzdEVsZW1lbnQsIGN1cnJlbnRfaGVhZGVyX251bTogbnVtYmVyLFxuICAgICAgdGFnX251bWJlcjogbnVtYmVyKSB7XG4gICAgbGV0IGN1cnJlbnRfbGkgPSBudWxsO1xuICAgIGxldCBpID0gY3VycmVudF9oZWFkZXJfbnVtO1xuICAgIGZvciAoOyBpIDwgdGhpcy50b2NfaGVhZGVyc18ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBoZWFkZXIgPSB0aGlzLnRvY19oZWFkZXJzX1tpXTtcblxuICAgICAgLy8gaDMgLT4gaDJcbiAgICAgIGlmIChoZWFkZXIuaGVhZGVyX3RhZyA8IHRhZ19udW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgICAvLyBoMiAtPiBoM1xuICAgICAgZWxzZSBpZiAoaGVhZGVyLmhlYWRlcl90YWcgPiB0YWdfbnVtYmVyKSB7XG4gICAgICAgIGxldCBjaGlsZF9wYXJlbnRfb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvbCcpIGFzIEhUTUxPTGlzdEVsZW1lbnQ7XG4gICAgICAgIGNoaWxkX3BhcmVudF9vbC5jbGFzc05hbWUgPSAndG9jLWxpc3QnO1xuICAgICAgICBjdXJyZW50X2xpLmFwcGVuZENoaWxkKGNoaWxkX3BhcmVudF9vbCk7XG4gICAgICAgIGkgPSB0aGlzLlJlY3Vyc2l2ZVRPQ0NyZWF0b3IoY2hpbGRfcGFyZW50X29sLCBpLCBoZWFkZXIuaGVhZGVyX3RhZyk7XG4gICAgICAgIGktLTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gQnVpbGRDYXRlZ29yeUxpc3RFbGVtZW50KGhlYWRlcik7XG4gICAgICAgIGhlYWRlci5oZWFkZXJfZWxlbV9saW5rID0gZWxlbWVudC5maXJzdENoaWxkIGFzIEhUTUxBbmNob3JFbGVtZW50O1xuICAgICAgICBwYXJlbnRfb2wuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIGN1cnJlbnRfbGkgPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIHB1YmxpYyBDcmVhdGVUT0NMaXN0KCkge1xuICAgIGxldCByb290X29sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvYy1saXN0JykgYXMgSFRNTE9MaXN0RWxlbWVudDtcbiAgICBpZiAocm9vdF9vbCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuUmVjdXJzaXZlVE9DQ3JlYXRvcihyb290X29sLCAwLCB0aGlzLnRvY19oZWFkZXJzX1swXS5oZWFkZXJfdGFnKTtcblxuICAgIHRoaXMuSW5zdGFsbFRPQ0V2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgSW5zdGFsbFRPQ0V2ZW50SGFuZGxlcnMoKSB7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBsYXN0X2tub3duX3Njcm9sbF9wb3MgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIGlmICh0aGF0LnRpbWVfdG9fdXBkYXRlX3RvYykge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoYXQudGltZV90b191cGRhdGVfdG9jID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgaGVhZGVyX251bSA9IHRoYXQuR2V0Q3VycmVudEFjdGl2ZVRPQ0l0ZW0obGFzdF9rbm93bl9zY3JvbGxfcG9zKTtcbiAgICAgICAgICB0aGF0LkhpZ2hsaWdodEFjdGl2ZUl0ZW0oaGVhZGVyX251bSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGF0LnRpbWVfdG9fdXBkYXRlX3RvYyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIEhpZ2hsaWdodEFjdGl2ZUl0ZW0oaXRlbV9udW06IG51bWJlcikge1xuICAgIHRoaXMudG9jX2hlYWRlcnNfW3RoaXMucHJldl9oaWdobGlnaHRlZF0uaGVhZGVyX2VsZW1fbGluay5jbGFzc05hbWUgPVxuICAgICAgICAndG9jLWl0ZW0tbGluayc7XG4gICAgdGhpcy50b2NfaGVhZGVyc19baXRlbV9udW1dLmhlYWRlcl9lbGVtX2xpbmsuY2xhc3NOYW1lID1cbiAgICAgICAgJ3RvYy1pdGVtLWxpbmsgdG9jLWFjdGl2ZS1pdGVtJztcbiAgICB0aGlzLnByZXZfaGlnaGxpZ2h0ZWQgPSBpdGVtX251bTtcbiAgfVxuXG4gIHB1YmxpYyBJbnN0YWxsTGlua0NsaWNrSGFuZGxlcigpIHtcbiAgICBmb3IgKGxldCBoZWFkZXIgb2YgdGhpcy50b2NfaGVhZGVyc18pIHtcbiAgICAgIGhlYWRlci5oZWFkZXJfZWxlbV9saW5rLm9uY2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgaGVhZGVyLmhlYWRlcl9wb3MgLSAxNTApO1xuICAgICAgICBjb25zb2xlLmxvZyhoZWFkZXIuaGVhZGVyX3BvcyAtIDE1MCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgR2V0Q3VycmVudEFjdGl2ZVRPQ0l0ZW0oc2Nyb2xsX3BvczogbnVtYmVyKSB7XG4gICAgaWYgKHNjcm9sbF9wb3MgPCB0aGlzLnRvY19oZWFkZXJzX1swXS5oZWFkZXJfcG9zKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCB0aGlzLnRvY19oZWFkZXJzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPT0gdGhpcy50b2NfaGVhZGVyc18ubGVuZ3RoIC0gMSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdGhpcy50b2NfaGVhZGVyc19baV0uaGVhZGVyX3BvcyA8PSBzY3JvbGxfcG9zICYmXG4gICAgICAgICAgc2Nyb2xsX3BvcyA8IHRoaXMudG9jX2hlYWRlcnNfW2kgKyAxXS5oZWFkZXJfcG9zKSB7XG4gICAgICAgIGlmIChzY3JvbGxfcG9zIC0gdGhpcy50b2NfaGVhZGVyc19baV0uaGVhZGVyX3BvcyA+XG4gICAgICAgICAgICAgICAgdGhpcy50b2NfaGVhZGVyc19baSArIDFdLmhlYWRlcl9wb3MgLSBzY3JvbGxfcG9zICYmXG4gICAgICAgICAgICBVdGlsLklzRWxlbWVudEluVmlld1BvcnQoXG4gICAgICAgICAgICAgICAgdGhpcy50b2NfaGVhZGVyc19baSArIDFdLmhlYWRlcl9lbGVtX2xpbmspKSB7XG4gICAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcHJpdmF0ZSB0b2NfaGVhZGVyc186IFRPQ0hlYWRlcltdO1xuICBwcml2YXRlIHRpbWVfdG9fdXBkYXRlX3RvYzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBwcmV2X2hpZ2hsaWdodGVkOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIEJ1aWxkQ2F0ZWdvcnlMaXN0RWxlbWVudChoZWFkZXI6IFRPQ0hlYWRlcik6IEhUTUxMSUVsZW1lbnQge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykgYXMgSFRNTExJRWxlbWVudDtcbiAgZWxlbWVudC5jbGFzc05hbWUgPSAndG9jLWxpc3QtaXRlbSc7XG5cbiAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykgYXMgSFRNTFNwYW5FbGVtZW50O1xuICBsaW5rLmNsYXNzTmFtZSA9ICd0b2MtaXRlbS1saW5rJ1xuICBsaW5rLnRleHRDb250ZW50ID0gaGVhZGVyLmhlYWRlcl9uYW1lO1xuXG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGluayk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRUYWJsZU9mQ29udGVudHMoKTogVE9DIHtcbiAgbGV0IHRvYyA9IG5ldyBUT0MoKTtcbiAgdG9jLkNyZWF0ZVRPQ0xpc3QoKTtcblxuICAvLyBJbnN0YWxsIGNsaWNrIGhhbmRsZXJzLlxuICB0b2MuSW5zdGFsbExpbmtDbGlja0hhbmRsZXIoKTtcbiAgcmV0dXJuIHRvYztcbn1cbiIsImltcG9ydCB7IENyZWF0ZUNvbW1lbnRNYW5hZ2VyIH0gZnJvbSBcIi4vY29tbWVudFwiO1xuaW1wb3J0ICogYXMgU2Nyb2xsIGZyb20gXCIuL3Njcm9sbFwiO1xuaW1wb3J0ICogYXMgVE9DIGZyb20gXCIuL3RvY1wiO1xuaW1wb3J0IFwiLi9sb2dpblwiO1xuXG4vLyBNYWluIGVudHJ5IHBvaW50LlxuYXN5bmMgZnVuY3Rpb24gTWFpbigpIHtcbiAgVE9DLkJ1aWxkVGFibGVPZkNvbnRlbnRzKCk7XG5cbiAgbGV0IHNjcm9sbCA9IFNjcm9sbC5DcmVhdGVTY3JvbGxIYW5kbGVyKCk7XG4gIHNjcm9sbC5SZWdpc3RlclNjcm9sbFVwSGFuZGxlcigoKSA9PiB7XG4gICAgLypcbiAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiOnRhcmdldFwiKSk7XG4gICAgbGV0IHBhZGRlZF9oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiOnRhcmdldFwiKSBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICBpZiAocGFkZGVkX2hlYWRlci5zdHlsZS5wYWRkaW5nVG9wICE9IFwiMFwiKSB7XG4gICAgICBwYWRkZWRfaGVhZGVyLnN0eWxlLnBhZGRpbmdUb3AgPSBcIjBcIjtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgIyBmcm9tIHVybC5cbiAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCAnICcpOyovXG4gIH0pO1xuXG4gIGxldCBjb21tZW50X21hbmFnZXIgPSBDcmVhdGVDb21tZW50TWFuYWdlcigpO1xuICBhd2FpdCBjb21tZW50X21hbmFnZXIuTG9hZENvbW1lbnRzKCk7XG5cbiAgY29tbWVudF9tYW5hZ2VyLkNvbXB1dGVSb290Q29tbWVudHMoKTtcbiAgY29uc29sZS5sb2coXCJodG1sIFwiLCBjb21tZW50X21hbmFnZXIuQ3JlYXRlQ29tbWVudExpc3QoKSk7XG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKFwicm9vdC1jb21tZW50LWxpc3RcIilcbiAgICAucmVwbGFjZVdpdGgoY29tbWVudF9tYW5hZ2VyLkNyZWF0ZUNvbW1lbnRMaXN0KCkpO1xuXG4gIGlmIChcbiAgICBjb21tZW50X21hbmFnZXIuR2V0TnVtVG90YWxDb21tZW50cygpID49XG4gICAgY29tbWVudF9tYW5hZ2VyLkdldExhc3RDb21tZW50SW5kZXgoKVxuICApIHtcbiAgICBjb25zb2xlLmxvZyhcIm5vdCBoaWRkZW5cIik7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b24tYm94XCIpLmhpZGRlbiA9IGZhbHNlO1xuICB9XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0LWNvbW1lbnRcIikub25jbGljayA9ICgpID0+IHtcbiAgICBsZXQgY29udGVudCA9IChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdGVkLWNvbW1lbnRcIikgYXMgSFRNTFRleHRBcmVhRWxlbWVudFxuICAgICkudmFsdWU7XG4gICAgbGV0IHBhc3N3b3JkID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc3dvcmRcIikgYXMgSFRNTElucHV0RWxlbWVudClcbiAgICAgIC52YWx1ZTtcbiAgICBsZXQgbmFtZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG5cbiAgICBjb21tZW50X21hbmFnZXIuUG9zdENvbW1lbnQoY29udGVudCwgcGFzc3dvcmQsIG5hbWUpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKlxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnQtbGlzdC1zZWN0aW9uXCIpLmlubmVySFRNTCA9IGNvbW1lbnRfbWFuYWdlclxuICAgIC5DcmVhdGVDb21tZW50TGlzdCgpXG4gICAgLm1hcCgoZSkgPT4gZS5vdXRlckhUTUwpXG4gICAgLmpvaW4oXCJcIik7XG4gICAgKi9cbn1cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgTWFpbigpO1xufTtcbiJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbkdvb2dsZUxvZ2luIiwic2lnbl9pbiIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidG9rZW4iLCJjcmVkZW50aWFsIiwidGhlbiIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsImxvY2F0aW9uIiwicmVsb2FkIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJ0aGlzIiwibGFzdF9jb21tZW50X2luZGV4XyIsImNvbW1lbnRzXyIsIk1hcCIsInJvb3RfY29tbWVudHNfIiwibnVtX3RvdGFsX2NvbW1lbnRzXyIsImdldE51bVRvdGFsQ29tbWVudHMiLCJMb2FkQ29tbWVudHMiLCJ1cmwiLCJwYXRobmFtZSIsImFydGljbGVfdXJsIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJtb2RlIiwiY2FjaGUiLCJpbmRleF9zdGFydCIsImpzb24iLCJnZXRfY29tbWVudF9yZXNwb25zZSIsImNvbW1lbnRzIiwiY29tbWVudCIsInNldCIsImNvbW1lbnRfaWQiLCJQb3N0Q29tbWVudCIsImNvbnRlbnQiLCJwYXNzd29yZCIsIm5hbWUiLCJwYXJlbnRfaWQiLCJocmVmIiwiZ3JlY2FwdGNoYSIsInJlYWR5IiwiZXhlY3V0ZSIsImFjdGlvbiIsImF1dGhvcl9uYW1lIiwiY2FwdGNoYV90b2tlbiIsImRhdGEiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaGlkZGVuIiwiQ29tcHV0ZVJvb3RDb21tZW50cyIsImNvbW1lbnRfaWRzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsInNvcnQiLCJhIiwiYiIsInZpc2l0ZWRfY29tbWVudHMiLCJTZXQiLCJoYXMiLCJwdXNoIiwiZ2V0IiwiVmlzaXRBbGxDaGlsZENvbW1lbnRzIiwicmV2ZXJzZSIsImFkZCIsInJlcGx5X2lkcyIsImNoaWxkX2NvbW1lbnRfaWQiLCJDcmVhdGVDb21tZW50TGlzdCIsInJvb3RfY29tbWVudF9saXN0IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImlkIiwiQ3JlYXRlQ29tbWVudCIsImNvbW1lbnRfZWxlbSIsImFwcGVuZENoaWxkIiwiY29tbWVudF9wcm9maWxlIiwiaW1hZ2VfbGluayIsInNyYyIsImFsdCIsImNvbW1lbnRfaW5mbyIsImNvbW1lbnRfaGVhZGVyIiwiY3JlYXRlU2ltcGxlU3BhbiIsImNsYXNzX25hbWUiLCJ0ZXh0IiwiZWxlbSIsInRleHRDb250ZW50IiwiY29tbWVudF9kYXRlIiwiY29tbWVudF9jb250ZW50IiwiY29tbWVudF9hY3Rpb24iLCJjb21tZW50UmVwbHlBY3Rpb24iLCJvbmNsaWNrIiwiQ3JlYXRlQ29tbWVudFJlcGx5IiwiY29tbWVudERlbGV0ZUFjdGlvbiIsImxlbmd0aCIsImNoaWxkX2NvbW1lbnRzIiwicmVwbHlfaWQiLCJhcHBlbmQiLCJHZXROdW1Ub3RhbENvbW1lbnRzIiwiR2V0TGFzdENvbW1lbnRJbmRleCIsImN1cnJlbnRfcmVwbHlfY29tbWVudF9ib3giLCJyZW1vdmUiLCJyZXBseV9ib3giLCJjbG9uZU5vZGUiLCJwYXJlbnRFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInZhbHVlIiwicmVzIiwibGFzdF9wb3NpdGlvbiIsInNjcm9sbFkiLCJ0aW1lX3RvX3VwZGF0ZV90b2MiLCJzY3JvbGxfZG93bl9ldmVudF9oYW5kbGVycyIsInNjcm9sbF91cF9ldmVudF9oYW5kbGVycyIsIkluc3RhbGxTY3JvbGxFdmVudEhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZ1bmMiLCJSZWdpc3RlclNjcm9sbFVwSGFuZGxlciIsIlJlZ2lzdGVyU2Nyb2xsRG93bkhhbmRsZXIiLCJTdHJpcFByZWZpeE5ic3AiLCJzdHIiLCJpIiwic3Vic3RyaW5nIiwidG9jX2hlYWRlcnNfIiwicHJldl9oaWdobGlnaHRlZCIsIkZldGNoSGVhZGVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoZWFkZXIiLCJoZWFkZXJfbmFtZSIsImlubmVyVGV4dCIsImhlYWRlcl90YWciLCJ0YWdOYW1lIiwicGFyc2VJbnQiLCJoZWFkZXJfaWQiLCJoZWFkZXJfcG9zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiaGVhZGVyX2VsZW1fbGluayIsIlJlY3Vyc2l2ZVRPQ0NyZWF0b3IiLCJwYXJlbnRfb2wiLCJjdXJyZW50X2hlYWRlcl9udW0iLCJ0YWdfbnVtYmVyIiwiY3VycmVudF9saSIsImNoaWxkX3BhcmVudF9vbCIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJCdWlsZENhdGVnb3J5TGlzdEVsZW1lbnQiLCJmaXJzdENoaWxkIiwiQ3JlYXRlVE9DTGlzdCIsInJvb3Rfb2wiLCJxdWVyeVNlbGVjdG9yIiwiSW5zdGFsbFRPQ0V2ZW50SGFuZGxlcnMiLCJ0aGF0IiwibGFzdF9rbm93bl9zY3JvbGxfcG9zIiwiaGVhZGVyX251bSIsIkdldEN1cnJlbnRBY3RpdmVUT0NJdGVtIiwiSGlnaGxpZ2h0QWN0aXZlSXRlbSIsIml0ZW1fbnVtIiwiSW5zdGFsbExpbmtDbGlja0hhbmRsZXIiLCJzY3JvbGxUbyIsInNjcm9sbF9wb3MiLCJib3VuZGluZyIsImxlZnQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibGluayIsIk1haW4iLCJ0b2MiLCJUT0MiLCJTY3JvbGwiLCJjb21tZW50X21hbmFnZXIiLCJDb21tZW50TWFuYWdlciIsInJlcGxhY2VXaXRoIiwib25sb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==